<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dealz – Best Deals in India</title>
  <meta name="description" content="Best deals on electronics, fashion, home & kitchen, books, computers and mobiles from Amazon & Flipkart">
  <link rel="stylesheet" href="styles.css?v=2">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
  <!-- Top Navigation -->
  <header class="navbar">
    <div class="nav-container">
      <div class="logo">
        <img src="dronedealzlogo2.jpeg" alt="Dealz logo" class="logo-img">
        <div class="logo-text">
          <span class="logo-main">
            <span class="logo-deal">Deal</span><span class="logo-z">z</span>
          </span>
        </div>
      </div>

      <div class="nav-right">
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>

      <!-- Top / dropdown menu -->
      <nav class="nav-menu">
        <a href="#account" data-page="account" class="nav-link">
          <i class="fas fa-user-circle"></i> Account
        </a>
        <a href="#login" data-page="login" class="nav-link">
          <i class="fas fa-right-to-bracket"></i> Log in
        </a>
        <a href="#signup" data-page="signup" class="nav-link">
          <i class="fas fa-user-plus"></i> Sign up
        </a>
        <a href="#support" data-page="support" class="nav-link">
          <i class="fas fa-headset"></i> Support
        </a>
        <a href="#about" data-page="about" class="nav-link">
          <i class="fas fa-info-circle"></i> About
        </a>
        <a href="#admin" data-page="admin" class="nav-link" style="display:none;">
          <i class="fas fa-lock"></i> Admin
        </a>
      </nav>
    </div>
  </header>

  <!-- Dark-blue shell for search + filters -->
  <div class="top-shell">
    <div class="top-shell-inner">
      <!-- Top search -->
      <section class="top-search">
        <div class="top-search-inner">
          <i class="fas fa-search"></i>
          <input type="text" id="topSearchInput" placeholder="Search electronics, fashion, mobiles...">
          <button id="topSearchVoice"><i class="fas fa-microphone"></i></button>
        </div>
      </section>

      <!-- HOME: category chips + result count + products -->
      <section class="page active" id="home" data-page="home">
        <div class="category-row">
          <button class="cat-btn active" data-category="all">All</button>
          <button class="cat-btn" data-category="electronics">Electronics</button>
          <button class="cat-btn" data-category="fashion">Fashion</button>
          <button class="cat-btn" data-category="home-kitchen">Home &amp; Kitchen</button>
          <button class="cat-btn" data-category="books">Books</button>
          <button class="cat-btn" data-category="computers">Computers</button>
          <button class="cat-btn" data-category="mobiles">Mobiles</button>
        </div>

        <p id="resultCount" class="result-count">
          <span class="result-count-badge">
            <span>0</span> items found
          </span>
        </p>

        <div class="products-grid" id="homeProducts"></div>
      </section>
    </div>
  </div>

  <!-- Main content (other pages) -->
  <main class="main-content">
    <!-- ADMIN -->
    <section class="page" id="admin" data-page="admin">
      <h2>Admin: Products</h2>
      <form class="auth-form" id="adminProductForm">
        <label>
          Name
          <input type="text" id="adminProdName" required>
        </label>
        <label>
          Price (selling price)
          <input type="number" id="adminProdPrice" placeholder="1999" required>
        </label>
        <label>
          MRP (original price)
          <input type="number" id="adminProdMrp" placeholder="2499">
        </label>
        <label>
          Category (electronics / fashion / home-kitchen / books / computers / mobiles)
          <input type="text" id="adminProdCategory" placeholder="electronics" required>
        </label>
        <label>
          Platform (amazon / flipkart)
          <input type="text" id="adminProdPlatform" placeholder="amazon" required>
        </label>
        <label>
          Product URL
          <input type="url" id="adminProdUrl" placeholder="https://..." required>
        </label>
        <label>
          Image URL (from Amazon/Flipkart widget)
          <input type="url" id="adminProdImage" placeholder="https://...">
        </label>
        <button type="submit" class="primary-btn">Save product</button>
      </form>
      <div class="info-card" id="adminStatus" style="margin-top:10px;">
        <p>Fill the form and click “Save product” to write into Firestore collection <strong>products</strong>.</p>
      </div>
    </section>

    <!-- SEARCH -->
    <section class="page" id="search" data-page="search">
      <div class="search-container">
        <h2>Search products</h2>
        <div class="search-bar">
          <input type="text" id="searchInput" placeholder="Search electronics, fashion, home &amp; kitchen...">
          <button id="searchBtn"><i class="fas fa-search"></i></button>
        </div>
        <div class="products-grid" id="searchResults"></div>
      </div>
    </section>

    <!-- DEALS -->
    <section class="page" id="deals" data-page="deals">
      <h2>Trending dealz</h2>
      <div class="products-grid" id="dealsProducts"></div>
    </section>

    <!-- SPIN -->
    <section class="page" id="spin" data-page="spin">
      <h2>Spin &amp; win cashback</h2>

      <div class="info-card" id="spinStatusCard">
        <p id="spinProgressText">Today you bought 0/3 products.</p>
        <div class="spin-progress-bar">
          <div id="spinProgressFill"></div>
        </div>
        <p class="spin-note">
  Spin unlocks after 3 confirmed purchases today, and the total of those 3 must be at least ₹999.
</p>


      <div class="spin-wheel-wrapper">
        <canvas id="spinCanvas" width="260" height="260"></canvas>
        <button class="primary-btn" id="spinButton" disabled>Buy 3 items to unlock</button>
      </div>

      <p class="spin-small">Cashback will be sent instantly to your saved UPI ID.</p>
    </section>

    <section class="page" id="productDetail" data-page="productDetail">
  <div class="top-shell">
    <div class="top-shell-inner">
      <h2>Product details</h2>

      <div class="product-detail-card">
        <div class="product-detail-left">
          <div id="detailImageBox"></div>
        </div>

        <div class="product-detail-right">
          <h1 class="product-detail-title" id="detailTitle">Loading product...</h1>
          <p class="product-detail-price" id="detailPrice"></p>
          <p class="product-detail-meta" id="detailMeta"></p>
          <div class="buy-buttons" id="detailBuyButtons"></div>
        </div>
      </div>

      <div class="info-card" id="moreProductsCard">
        <h3 style="margin-bottom:8px;">More products</h3>
        <div class="products-grid" id="moreProductsList"></div>
      </div>
    </div>
  </div>
</section>




    <!-- CART -->
    <section class="page" id="cart" data-page="cart">
      <h2>Your cart</h2>
      <p>Cart features coming soon. Saved items will appear here.</p>
    </section>

    <!-- ACCOUNT -->
    <section class="page" id="account" data-page="account">
      <h2>Your account</h2>
      <div class="info-card">
        <p>Sign in to manage your profile, cashback UPI ID and saved favourites.</p>
      </div>
      <button class="primary-btn" data-page="login">Go to Log in</button>
      <button class="primary-btn" style="margin-left:8px;" onclick="droneLogout()">Log out</button>

      <!-- UPI ID for instant cashback -->
      <div class="info-card" style="margin-top:12px;">
        <h3>Cashback UPI ID</h3>
        <p style="font-size:0.9rem;">
          Add your UPI ID (like <strong>name@oksbi</strong>). Cashback from spin wheel will be sent to this ID automatically.
        </p>
        <form class="auth-form" id="upiForm">
          <label>
            UPI ID
            <input type="text" id="upiIdInput" placeholder="yourname@oksbi" required>
          </label>
          <button type="submit" class="primary-btn">Save UPI ID</button>
        </form>
        <p id="upiStatus" class="info-small"></p>
      </div>

      <div class="favourites-card">
        <h3>Your saved favourites</h3>
        <div id="favouritesList" class="favourites-list">
          <p class="empty-msg">No favourites yet. Save items from Home or Search.</p>
        </div>
      </div>
    </section>

    <!-- LOGIN -->
    <section class="page" id="login" data-page="login">
      <h2>Log in</h2>
      <form class="auth-form" id="loginForm">
        <label>
          Email
          <input type="email" id="loginEmail" placeholder="you@example.com" required>
        </label>
        <label>
          Password
          <input type="password" id="loginPassword" placeholder="••••••••" required>
        </label>
        <button type="submit" class="primary-btn">Log in</button>
        <p class="auth-switch">
          New here?
          <a href="#signup" data-page="signup" class="inline-link">Create an account</a>
        </p>
      </form>
    </section>

    <!-- SIGNUP -->
    <section class="page" id="signup" data-page="signup">
      <h2>Create account</h2>
      <form class="auth-form" id="signupForm">
        <label>
          Name
          <input type="text" id="signupName" placeholder="Your name" required>
        </label>
        <label>
          Email
          <input type="email" id="signupEmail" placeholder="you@example.com" required>
        </label>
        <label>
          Password
          <input type="password" id="signupPassword" placeholder="Min 8 characters" required>
        </label>
        <label>
          Confirm password
          <input type="password" id="signupConfirm" placeholder="Repeat password" required>
        </label>
        <button type="submit" class="primary-btn">Sign up</button>
        <p class="auth-switch">
          Already have an account?
          <a href="#login" data-page="login" class="inline-link">Log in</a>
        </p>
      </form>
    </section>

    <!-- ABOUT -->
    <section class="page" id="about" data-page="about">
      <h2>About Dealz</h2>
      <div class="info-card">
        <p class="info-highlight">Dealz is a hub that curates affordable products from marketplaces.</p>
        <p>It helps Indian shoppers quickly compare electronics, fashion, home &amp; kitchen and more before buying.</p>
      </div>
    </section>

    <!-- SUPPORT -->
    <section class="page" id="support" data-page="support">
      <h2>Customer support</h2>
      <div class="info-card">
        <p>If you face any problem with Dealz, please send an email to:</p>
        <p class="info-email">dronedealz8@gmail.com</p>
        <p>You can explain the issue clearly and attach screenshots if needed.</p>
      </div>
    </section>
  </main>

  

  <!-- Bottom navigation bar -->
  <nav class="bottom-nav">
    <button class="bottom-item active" data-page="home">
      <i class="fas fa-home"></i>
      <span>Home</span>
    </button>
    <button class="bottom-item" data-page="deals">
      <i class="fas fa-tags"></i>
      <span>Dealz</span>
    </button>
    <button class="bottom-item" data-page="spin">
      <i class="fas fa-sync-alt"></i>
      <span>Spin</span>
    </button>
    <button class="bottom-item" data-page="cart">
      <i class="fas fa-shopping-cart"></i>
      <span>Cart</span>
    </button>
    <button class="bottom-item" data-page="account">
      <i class="fas fa-user-circle"></i>
      <span>Account</span>
    </button>
  </nav>

  <!-- Firebase SDKs (compat v12) -->
  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore-compat.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBpdGTUyYikdXiyQez4HF34cA3Sgmy3JNw",
      authDomain: "dronedealz-6c6be.firebaseapp.com",
      projectId: "dronedealz-6c6be",
      storageBucket: "dronedealz-6c6be.firebasestorage.app",
      messagingSenderId: "995697001234",
      appId: "1:995697001234:web:73c7891f400f258a17e9cb",
      measurementId: "G-QGH3Q76ZH0"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>

  <!-- Main JS -->
  <script src="script.js?v=5"></script>
</body>
</html>